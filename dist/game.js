/*! missilewar 09-04-2015 */
function logPlay(){_gaq.push(["_trackEvent","Button","Play"])}function moveModal(){var a=$(".modal"),b=$(app.canvas).offset();a.offset({top:b.top-5,left:b.left-5})}function start(){var a=new Date;window.app=new SL.Game({canvas:document.getElementById("GameCanvas")}),app.fullscreen(),app.assetCollection=new SL.AssetCollection("res/assets.json",app,function(){_gaq.push(["_trackEvent","Game","Load","",(new Date-a)/1e3]),$(".canvas-container").append(domjs.build(templates.modal)),moveModal(),$(window).resize(function(){moveModal()});var b=new SL.Scene("loading",[],function(){},app);b.addEntity(new SL.Loader({assetCollection:app.assetCollection,screenSize:SCREEN_SIZE,loadCallback:function(){app.transitionScene("menu")},barColor:"blue",textColor:"green"}));var c=new SL.Scene("menu",[],function(){var a=$(".modal");a.append(domjs.build(templates.menu)),$(".menu .button").on("click",function(){a.empty(),a.off(),app.transitionScene($(this).attr("id"))})},app),d=new SL.Scene("game",[],function(){var a=$(".modal");a.empty(),a.off(),a.hide(),app.currentScene.addEntity({type:"background",sprite:new PIXI.Sprite(app.assetCollection.getTexture("background")),update:function(){}}),app.currentScene.addEntity(new Spawner),app.currentScene.addEntity(new Player)},app),e=new SL.Scene("score",[],function(a){var b=$(".modal"),c=new PIXI.Text("Score: "+a[0].score,{font:"18px Arial",fill:"red"});b.append(domjs.build(templates.score)),b.show(),$(".menu .button").on("click",function(){b.empty(),b.off(),app.transitionScene($(this).attr("id"))}),c.position.x=350,c.position.y=400,this.stage.addChild(c),$(".twitter-share-button").attr("href","https://twitter.com/share?url=http://synsugarstudio.com/ld31&hashtags=ld31,bahhumbug&text=I scored "+a[0].score+" on Bah! Humbug!")},app);app.addScene(b),app.addScene(c),app.addScene(d),app.addScene(e),app.transitionScene("loading"),app.start()})}function Ship(a){var b=this;b.shield=new Shield,b.launchers=[],b.corePosition=a.position.clone()}SL=sugarLab;var SCREEN_SIZE=new SL.Vec2(800,600);